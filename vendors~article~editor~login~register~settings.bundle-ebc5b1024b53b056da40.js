(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,n){"use strict";var a=n(22),r=n(8),i=n(1);const o=Object(a.a)((function(e={}){const{name:t,validate:n,init:a,actions:l,parent:u,root:c,onFormChange:d,preventInputPendingBlocking:h,preventPendingBlocking:p}=e;let{getValue:g,setValue:b,children:m,initialValue:v,clearValue:f}=e,y=new Map,O=!1;const V={name:t,actions:l,isDirty:!1,isTouched:!1,isInputPending:!1,isSubmitted:!1,hasErrors:!1,errors:null,parent:u,initialValue:v,get isPendingBlocked(){return!p&&V.isPending||!h&&V.isInputPending},get isBlocked(){return V.hasErrors||V.isPendingBlocked}};V.onFormChange=d;const w=e=>{if(Object(i.g)(e.name)){if(y.has(e.name))throw new Error("Duplicate child name: "+e.name);y.set(e.name,e)}};V.onChange=e=>{O=!1,b.call(V,e),V.markAsInputPending(),V.root.markAsDirty(),k(),V.root.validate({event:"change",target:V}),C()},V.markAsInputPending=()=>{V.isInputPending=O||!!m&&m.some(e=>e.isInputPending),V.parent&&V.parent.markAsInputPending()},V.markAsDirty=()=>{let e=!1;m&&m.forEach(t=>{t.markAsDirty(),t.isDirty&&(e=!0)}),V.isDirty=e||V.getValue()!==V.initialValue};const k=()=>{let e=V;do{e.isTouched=!0,e=e.parent}while(e)};V.validate=({event:e,target:t=V}={})=>{const a=[];return V.errors=null,V.hasErrors=!1,Object(i.b)(m&&m.map(n=>n.validate({event:e,target:t})),()=>(m&&m.forEach(e=>{e.hasErrors&&a.push(...e.errors)}),Object(i.c)(n&&Object(i.c)(n.call(V,{input:V,event:e,target:t}),e=>{e&&(Array.isArray(e)?a.push(...e):a.push(e))},e=>{a.push(Object(i.d)(s.asyncValidationError)?s.asyncValidationError(e):s.asyncValidationError)}),()=>{a.length?(V.errors=a,V.hasErrors=!0):(V.errors=null,V.hasErrors=!1)})))};const C=()=>{let e=V;do{Object(i.d)(e.onFormChange)&&e.onFormChange({target:V,input:e}),e=e.parent}while(e)};V.onStartPending=()=>{let e=V;O=!0;do{e.isInputPending=!0,e=e.parent}while(e)},V.onBlur=()=>{k(),V.root.validate({event:"blur",target:V})},V.submit=(...e)=>{V.isBlocked||(V.isSubmitted=!0,V.validate({event:"submit"}),V.actions&&V.actions.submit&&!V.isBlocked&&V.actions.submit.apply(V,e))},V.getResult=Object(r.b)(()=>{if(m){if(!y.size||y.size!==m.length)return m.map(e=>e.getResult());const e={};return m.forEach(t=>{e[t.name]=t.getResult()}),e}return V.getValue()}),V.reset=({target:e=V}={})=>{e===V&&V.isPendingBlocked||(m&&m.forEach(t=>t.reset({target:e})),P(),e===V&&(V.root.markAsDirty(),V.root.validate({event:"reset",target:V}),V.actions&&V.actions.reset&&!V.isPendingBlocked&&V.actions.reset.call(V)))};const P=()=>{b.call(V,V.initialValue),V.isSubmitted=!1,V.isTouched=!1};return V.clear=({target:t=V}={})=>{t===V&&V.isPendingBlocked||(m&&m.forEach(e=>e.clear({target:t})),e.hasOwnProperty("clearValue")?V.initialValue=f:V.initialValue&&(V.initialValue=null),P(),t===V&&(V.root.markAsDirty(),V.root.validate({event:"clear",target:V}),V.actions&&V.actions.clear&&!V.isPendingBlocked&&V.actions.clear.call(V)))},V.get=Object(r.b)(e=>y.get(e)),V.add=(e,t)=>{V.addChild(new o(e),t)},V.addChild=(e,t)=>{if(e.parent)throw new Error("The child input already has a parent.");e.parent=V,e.setRoot(V.root),m||(V.children=m=[]),Object(i.g)(t)?m.splice(t,0,e):m.push(e),w(e),Object(r.a)(V,e),V.markAsInputPending(),V.root.markAsDirty(),V.root.validate({event:"add",target:V})},V.setRoot=e=>{V.root=e,m&&m.forEach(t=>t.setRoot(e))},V.remove=()=>{if(!V.parent)throw new Error("The input doesn't have a parent.");V.parent.removeChild(V)},V.removeChild=e=>{if(!m)throw new Error("Input doesn't have the child.");const t=m.indexOf(e);if(-1===t)throw new Error("Input doesn't have the child.");m.splice(t,1),Object(i.g)(e.name)&&y.delete(e.name),Object(r.h)(V,e),e.parent=null,e.setRoot(e),V.markAsInputPending(),V.root.markAsDirty(),V.root.validate({event:"remove",target:V})},(()=>{if(V.root=c||V,V.getValue=Object(r.b)(g),!V.getValue!=!b)throw new Error("getValue and setValue must be either both provided or both absent.");if(V.getValue){if(e.hasOwnProperty("initialValue"))throw new Error("Cannot provide an initial value if getValue was provided.");V.initialValue=V.getValue()}else V.value=V.initialValue,V.getValue=Object(r.b)(()=>V.value),b=e=>V.value=e;V.children=m=m&&m.map(e=>new o(Object.assign({},e,{root:V.root,parent:V}))),m&&m.forEach(w),Object(r.e)(l)})(),a&&a.call(V,{input:V}),V})),s=Object(a.a)((function(e){const t=new o(e);return t.validate({event:"init"}),t}));t.a=s,s.asyncValidationError="Validation failed"},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(0),r=n.n(a),i=n(3),o=n.n(i),s=n(1);const l=(e,t)=>{let n;return{function(...a){clearTimeout(n),n=setTimeout(()=>{e.apply(this,a)},t)}}.function},{createElement:u}=r.a,c=/^(-|\+)?(((\d+(\.\d*)?)|(\.\d+))(e(-|\+)?\d+)?)$/i,d=/^(-|\+)?((\d*(\.\d*)?)|((((\d+(\.\d*)?)|(\.\d+))(e(-|\+)?\d*)?)?))$/i,h=/^(-|\+)?\d+$/,p=/^(-|\+)?\d*$/,g=["text","password","email","url","tel","search","hidden","radio","checkbox"],b=e=>"radio"===e||"checkbox"===e,m={number:(e,t)=>""===e?void 0===t?t:null:Number(e),integer:(e,t)=>m.number(e,t),string:e=>e.trim(),text:e=>m.string(e),textarea:e=>m.string(e)},v={number:e=>d.test(e),integer:e=>p.test(e)},f={number:e=>""===e||c.test(e),integer:e=>""===e||h.test(e),string:(e,t)=>"string"!=typeof(t=t||"")||t.trim()!==e.trim(),text:(e,t)=>f.string(e,t),textarea:(e,t)=>f.string(e,t)};class y extends r.a.Component{constructor(...e){super(...e),this.state={value:this.props.value,oldValue:this.props.value},this.onChange=null,this.onBlur=null,this.initOnChange=this.initOnChange.bind(this),this.setOnChangeMethod(),this.setOnBlurMethod()}componentDidUpdate(e){this.props.debounce!==e.debounce&&(this.props.onChange!==e.onChange&&this.setOnChangeMethod(),this.props.onBlur!==e.onBlur&&this.setOnBlurMethod()),this.props.isInputPending||this.props.value===this.state.oldValue||this.setState({value:this.props.value,oldValue:this.props.value})}initOnChange(e){const{type:t,isInputPending:n,onStartPending:a,onChange:r}=this.props,i=b(t)?e.target.checked:e.target.value,o=v[t];if(o&&!o(i))return;this.setState({value:i});const s=f[t];if(s&&!s(i,this.state.oldValue))return;const l=m[t],u=l?l(i,this.props.initialValue):i;this.setState({oldValue:u}),r&&(!n&&a&&a(),this.onChange(u))}setOnChangeMethod(){const e=this.getInputDebounce();this.onChange=0===e?this.props.onChange:l(this.props.onChange,e)}getInputDebounce(){return"number"==typeof this.props.debounce?this.props.debounce:b(this.props.type)?0:"number"==typeof this.context.inputDebounce?this.context.inputDebounce:100}setOnBlurMethod(){if(!this.props.onBlur)return void(this.onBlur=null);const e=this.getInputDebounce();this.onBlur=0===e?this.props.onBlur:l(this.props.onBlur,e)}render(){const{errors:e,type:t,required:n,placeholder:a,className:r,readOnly:i,disabled:o,autoFocus:l,inputClassName:c,inputProps:d}=this.props,h=Object(s.g)(this.state.value)?this.state.value:"",p=!!e&&!!e.length;return u("span",{className:`crizmas-input ${p?"has-errors":""} ${r}`},!!n&&u("span",null,"*"),u("textarea"===t?t:"input",Object.assign({},d,{value:h,checked:b(t)&&h,type:g.includes(t)?t:"text",placeholder:a,onChange:this.initOnChange,onBlur:this.onBlur,readOnly:i,disabled:o,autoFocus:l,className:c})),p&&u("span",null,e.map((e,t)=>u("span",{key:t},e))))}}y.propTypes={value:o.a.any,initialValue:o.a.any,type:o.a.oneOf([...g,"string","number","integer","textarea"]),errors:o.a.array,isInputPending:o.a.bool,required:o.a.bool,placeholder:o.a.string,className:o.a.string,inputClassName:o.a.string,debounce:o.a.number,onChange:o.a.func,onBlur:o.a.func,onStartPending:o.a.func,readOnly:o.a.bool,disabled:o.a.bool,autoFocus:o.a.bool,inputProps:o.a.object},y.defaultProps={type:"text",className:""},y.contextTypes={inputDebounce:o.a.number}}}]);
//# sourceMappingURL=vendors~article~editor~login~register~settings.bundle-ebc5b1024b53b056da40.js.map